import{r as m,j as e}from"./index-Trdccz0E.js";const S=[{id:"1",title:"Folder1",isFile:!1,children:[{id:"1-1",title:"Folder11",isFile:!1,children:[{id:"1-1-1",title:"File111.jsx",isFile:!0},{id:"1-1-2",title:"File112.jsx",isFile:!0}]},{id:"1-2",title:"Folder12",isFile:!1,children:[{id:"1-2-1",title:"Folder121",isFile:!1,children:[{id:"1-2-1-1",title:"File1211.jsx",isFile:!0},{id:"1-2-1-2",title:"File1212.jsx",isFile:!0},{id:"1-2-1-3",title:"File1213.jsx",isFile:!0},{id:"1-2-1-4",title:"File1214.jsx",isFile:!0},{id:"1-2-1-5",title:"File1215.jsx",isFile:!0}]}]}]},{id:"2",title:"Folder2",isFile:!1,children:[{id:"2-1",title:"File21",isFile:!0}]},{id:"3",title:"Folder3",isFile:!1,children:[{id:"3-1",title:"File31",isFile:!0}]}],f=({id:t,title:d,isFile:x,children:r,structure:a,setStructure:o})=>{const[c,p]=m.useState(!1),[F,u]=m.useState(!1),v=()=>{p(!c)},N=i=>{i.key==="Enter"&&u(!F)},C=i=>{const s=i.target.value.trim(),n=[...a],l=j=>{var h;if(j.id===t){j.title=s;return}(h=j.children)==null||h.map(l)};n.forEach(l),o(n)},w=()=>{const i=n=>n==null?void 0:n.filter(l=>l.id!==t).map(l=>({...l,children:l.children?i(l.children):void 0})),s=i(a);o(s)};return e.jsxs("div",{className:"node",children:[e.jsx("div",{className:"title",children:e.jsxs(e.Fragment,{children:[F?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",name:"",id:"",value:d,onChange:C,onKeyDown:N}),e.jsx("span",{className:"rename",onClick:()=>u(!F),children:"✅"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"edit-title",onClick:v,children:x?e.jsx("p",{className:"file",children:d}):e.jsx("h3",{className:"folder",children:d})}),e.jsx("span",{className:"rename",onClick:()=>u(!F),children:"🖊️"})]}),e.jsx("span",{onClick:w,children:"🗑️"})]})}),e.jsx("div",{className:"children",children:c&&(r==null?void 0:r.map((i,s)=>e.jsx(f,{id:i.id,title:i.title,isFile:i.isFile,children:i.children,structure:a,setStructure:o},s)))})]})},k=()=>{const[t,d]=m.useState(S);return e.jsx("div",{className:"folder-structure",children:t==null?void 0:t.map(({id:x,title:r,isFile:a,children:o},c)=>e.jsx(f,{id:x,title:r,isFile:a,children:o,setStructure:d,structure:t},c))})};export{k as default};
