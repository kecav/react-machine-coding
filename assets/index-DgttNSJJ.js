import{r as u,j as o}from"./index-Trdccz0E.js";const m=[{id:1,title:"Node 1",children:[{id:11,title:"Node 11",children:[{id:111,title:"Node 111"},{id:112,title:"Node 112",children:[{id:1121,title:"Node 1121"},{id:1122,title:"Node 1122"}]}]}]},{id:2,title:"Node 2",children:[{id:21,title:"Node 21"},{id:22,title:"Node 22"}]}],j=({id:e,isRoot:x,title:l,children:s,checkedNodes:r,setCheckedNodes:n,data:d})=>{const h=t=>{n(N=>{const a={...N,[e]:t.target.checked},f=c=>{var i;a[c.id]=t.target.checked,(i=c.children)==null||i.forEach(f)},k=c=>{if(!c.children)return a[c.id];const i=c.children.every(k);return console.log(c.id,i),a[c.id]=i,i};return f({id:e,children:s}),d.forEach(k),a})};return o.jsxs("div",{className:"node",children:[!x&&o.jsxs("div",{className:"checkbox",children:[o.jsx("input",{type:"checkbox",name:"",id:"",checked:r[e]||!1,onChange:h}),o.jsx("label",{htmlFor:"checkbox",children:l})]}),s==null?void 0:s.map(t=>o.jsx(j,{id:t.id,title:t.title,checked:t.checked,children:t.children,checkedNodes:r,setCheckedNodes:n,data:d},t.id))]})},E=()=>{const[e,x]=u.useState([]),[l,s]=u.useState({});return u.useEffect(()=>{if(e.length==0)return;const r=(d,h)=>{var t;h[d.id]=!1,(t=d.children)==null||t.forEach(N=>r(N,h))},n={};e==null||e.forEach(d=>r(d,n)),s(n)},[e]),u.useEffect(()=>{x(m)},[]),console.log(e,l),o.jsx("div",{className:"nested-checkbox",children:o.jsx(j,{isRoot:!0,children:e,checkedNodes:l,setCheckedNodes:s,data:e})})};export{E as default};
