import{j as a,r as u}from"./index-C7Vh3shO.js";const v=({size:l})=>{const[n,f]=u.useState([]),[c,i]=u.useState("X"),[m,o]=u.useState(!0),d=(t,e)=>{if(m||n[t][e]!=="")return;const s=n.map(r=>[...r]);console.log(s),s[t][e]=c,f(s),h(s,t,e,c)&&o(!0),i(c==="X"?"O":"X")},p=(t,e,s)=>{for(let r=0;r<l;r++)if(t[e][r]!==s)return!1;return!0},g=(t,e,s)=>{for(let r=0;r<l;r++)if(t[r][e]!==s)return!1;return!0},j=()=>{const t=n[0][0];if(!t)return!1;for(let e=1;e<l;e++)if(n[e][e]!==t)return!1;return!0},S=()=>{const t=n[0][l-1];if(!t)return!1;for(let e=1;e<l;e++)if(n[e][l-e-1]!==t)return!1;return!0},h=(t,e,s,r)=>!!(p(t,e,r)||g(t,s,r)),x=()=>{let t=new Array(l).fill(new Array(l).fill(""));f(t),o(!1),i("X")};return u.useEffect(()=>{n.length>0&&(j()||S())&&o(!0)},[n]),u.useEffect(()=>{x()},[]),console.log(n),a.jsxs("div",{className:"ttt",children:[a.jsx("button",{className:"reset",onClick:x,children:"Reset"}),m&&a.jsxs(a.Fragment,{children:["Player ",`${c=="X"?1:2}`," wins !"]}),n.map((t,e)=>a.jsx("div",{className:"cell-row",children:t.map((s,r)=>a.jsx("span",{className:"cell",onClick:()=>d(e,r),children:s},r))},e))]})},X=()=>a.jsx(v,{size:3});export{X as default};
